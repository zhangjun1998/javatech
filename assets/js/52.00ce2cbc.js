(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{289:function(r,t,e){"use strict";e.r(t);var a=e(2),s=Object(a.a)({},(function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h1",{attrs:{id:"shiro-应用指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shiro-应用指南"}},[r._v("#")]),r._v(" Shiro 应用指南")]),r._v(" "),e("blockquote",[e("p",[r._v("Shiro 是一个安全框架，具有认证、授权、加密、会话管理功能。")])]),r._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#shiro-%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6"}},[r._v("Shiro 核心组件")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#shiro-%E6%9E%B6%E6%9E%84"}},[r._v("Shiro 架构")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[r._v("参考资料")])])]),r._v(" "),e("h2",{attrs:{id:"shiro-核心组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shiro-核心组件"}},[r._v("#")]),r._v(" Shiro 核心组件")]),r._v(" "),e("p",{attrs:{align:"center"}},[e("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/java/javaweb/standalone/security/shiro/shiro-features.png!zp"}})]),r._v(" "),e("ul",[e("li",[e("strong",[r._v("Authentication")]),r._v(" - 身份认证/登录，验证用户是不是拥有相应的身份；")]),r._v(" "),e("li",[e("strong",[r._v("Authorization")]),r._v(" - 授权，即权限验证，验证某个已认证的用户是否拥有某个权限；即判断用户是否能做事情，常见的如：验证某个用户是否拥有某个角色。或者细粒度的验证某个用户对某个资源是否具有某个权限；")]),r._v(" "),e("li",[e("strong",[r._v("Session Manager")]),r._v(" - 会话管理，即用户登录后就是一次会话，在没有退出之前，它的所有信息都在会话中；会话可以是普通 JavaSE 环境的，也可以是如 Web 环境的；")]),r._v(" "),e("li",[e("strong",[r._v("Cryptography")]),r._v(" - 加密，保护数据的安全性，如密码加密存储到数据库，而不是明文存储；")]),r._v(" "),e("li",[e("strong",[r._v("Web Support")]),r._v(" - Web 支持，可以非常容易的集成到 Web 环境；")]),r._v(" "),e("li",[e("strong",[r._v("Caching")]),r._v(" - 缓存，比如用户登录后，其用户信息、拥有的角色 / 权限不必每次去查，这样可以提高效率；")]),r._v(" "),e("li",[e("strong",[r._v("Concurrency")]),r._v(" - shiro 支持多线程应用的并发验证，即如在一个线程中开启另一个线程，能把权限自动传播过去；")]),r._v(" "),e("li",[e("strong",[r._v("Testing")]),r._v(" - 提供测试支持；")]),r._v(" "),e("li",[e("strong",[r._v("Run As")]),r._v(" - 允许一个用户假装为另一个用户（如果他们允许）的身份进行访问；")]),r._v(" "),e("li",[e("strong",[r._v("Remember Me")]),r._v(" - 记住我，这个是非常常见的功能，即一次登录后，下次再来的话不用登录了。")])]),r._v(" "),e("p",[r._v("记住一点，Shiro 不会去维护用户、维护权限；这些需要我们自己去提供；然后通过相应的接口注入给 Shiro 即可。")]),r._v(" "),e("h2",{attrs:{id:"shiro-架构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shiro-架构"}},[r._v("#")]),r._v(" Shiro 架构")]),r._v(" "),e("p",{attrs:{align:"center"}},[e("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/java/javaweb/standalone/security/shiro/ShiroBasicArchitecture.png!zp"}})]),r._v(" "),e("ul",[e("li",[e("strong",[r._v("Realm")]),r._v(" - 域，Shiro 从从 Realm 获取安全数据（如用户、角色、权限），就是说 SecurityManager 要验证用户身份，那么它需要从 Realm 获取相应的用户进行比较以确定用户身份是否合法；也需要从 Realm 得到用户相应的角色/权限进行验证用户是否能进行操作；可以把 Realm 看成 DataSource，即安全数据源。")])]),r._v(" "),e("p",{attrs:{align:"center"}},[e("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/java/javaweb/standalone/security/shiro/ShiroArchitecture.png!zp"}})]),r._v(" "),e("ul",[e("li",[e("strong",[r._v("Subject")]),r._v(" - 主题，负责 Shiro 的入口。")]),r._v(" "),e("li",[e("strong",[r._v("Realm")]),r._v(" - Realm 可以视为数据源，所有安全相关的数据都从 Realm 获取。可以有一个或多个 Realm，可以是 JDBC 实现，也可以是 LDAP 实现，或者内存实现等等，由用户提供。注意：Shiro 不知道你的用户/权限存储在哪及以何种格式存储，所以用户需要在应用中都现自己的 Realm。")]),r._v(" "),e("li",[e("strong",[r._v("SecurityManager")]),r._v(" - 它是 Shiro 的核心，所有与安全有关的操作（认证、授权、及会话、缓存的管理）都与 "),e("code",[r._v("SecurityManager")]),r._v(" 交互，且它管理着所有 "),e("code",[r._v("Subject")]),r._v("。\n"),e("ul",[e("li",[e("strong",[r._v("Authenticator")]),r._v(" - 认证器，负责认证。如果用户需要定制认证策略，可以实现此接口。")]),r._v(" "),e("li",[e("strong",[r._v("Authorizer")]),r._v(" - 授权器，负责权限控制。用来决定主体是否有权限进行相应的操作；即控制着用户能访问应用中的哪些功能；")]),r._v(" "),e("li",[e("strong",[r._v("SessionManager")]),r._v(" - 会话管理器。Shiro 抽象了一个自己的 Session 来管理主体与应用之间交互的数据。")]),r._v(" "),e("li",[e("strong",[r._v("SessionDAO")]),r._v(" - 会话 DAO 用于实现用户定制化的会话 DAO，需要用户自己实现。")]),r._v(" "),e("li",[e("strong",[r._v("CacheManager")]),r._v(" - 缓存控制器。用于管理如用户、角色、权限等信息的缓存。")]),r._v(" "),e("li",[e("strong",[r._v("Cryptography")]),r._v(" - 密码器。用于对数据加密、解密。")])])])]),r._v(" "),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[r._v("#")]),r._v(" 参考资料")]),r._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://shiro.apache.org/reference.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("shiro 官方文档"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"http://jinnianshilongnian.iteye.com/category/305053",target:"_blank",rel:"noopener noreferrer"}},[r._v("跟我学 Shiro"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);